<?xml version="1.0"?>
<openerp>
    <data>
        <!--campaign.campaign-->
        <record model="ir.ui.view" id="view_campaign_campaign_tree">
            <field name="name">campaign.campaign.tree</field>
            <field name="model">campaign.campaign</field>
            <field name="arch" type="xml">
                <tree string="Campaign">        
                    <field name="name" />
                    <field name="from_date" />
                    <field name="to_date" />
                    <field name="partner_id" />
                    <field name="album_id" />
                    <field name="sale_id" />
                    <field name="state" />
                    <field name="status_info" />                    
                </tree>
            </field>
        </record>
        <record model="ir.ui.view" id="view_campaign_campaign_form">
            <field name="name">campaign.campaign.form</field>
            <field name="model">campaign.campaign</field>
            <field name="arch" type="xml">
                <form string="Campaign" version="7.0">    
                    <head> 
                        <!--TODO button-->
                        <field name="state"  widget="statusbar" statusbar_visible="draft,confirmed,done" />
                    </head>
                    <sheet>    
                        <field name="name" />
                        <newline />
                        <field name="from_date" />
                        <field name="to_date" />
                        
                        <field name="partner_id" />
                        <field name="album_id" />
                        
                        <field name="sale_id" />
                        <field name="status_info" />                    
                    </sheet>
                </form>
            </field>
        </record>
        <record model="ir.ui.view" id="view_campaign_campaign_search">
            <field name="name">campaign.campaign.search</field>
            <field name="model">campaign.campaign</field>
            <field name="arch" type="xml">
                <search string="Campaign" version="7.0">        
                    <field name="partner_id" filter_domain="[('partner_id','=',self)]"/>
                    <field name="album_id" filter_domain="[('partner_id','=',self)]"/>
                    <filter name="state" string="Draft state" domain="[('state','=','draft')]"/>
                    <filter name="state" string="Cancel state" domain="[('state','=','cancel')]"/>
                    <filter name="state" string="Confirmed state" domain="[('state','=','confirmed')]"/>
                    <filter name="state" string="Closed state" domain="[('state','=','closed')]"/>
                    
                    <group expand="0" string="Group By">
                        <filter name="group_partner" string="Partner" context="{'group_by': 'partner_id'}"/>
                        <filter name="group_from_date" string="From period" context="{'group_by': 'from_date'}"/>
                        <filter name="group_to_date" string="To period" context="{'group_by': 'to_date'}"/>
                        <filter string="Status" context="{'group_by': 'state'}" icon="terp-stock_effects-object-colorize"/>
                    </group>                
                </search>
            </field>
        </record>
        <record model="ir.ui.view" id="view_campaign_campaign_calendar">
            <field name="name">campaign.campaign.calendar</field>
            <field name="model">campaign.campaign</field>
            <field name="type">calendar</field>
            <field name="priority" eval="10"/>
            <field name="arch" type="xml">
                <calendar color="partner_id" date_start="from_date" string="Campaign">
                    <field name="name"/>
                    <field name="partner_id" />
                    <field name="from_date" />
                    <field name="to_date" />
                </calendar>
            </field>
        </record>
        <record model="ir.actions.act_window" id="action_campaign_campaign">
            <field name="name">Campaign</field>
            <field name="res_model">campaign.campaign</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,calendar</field>
            <field name="view_id" ref="view_campaign_campaign_tree"/>
            <field name="context">{}</field>
            <field name="domain">[]</field>
        </record>
        
        <menuitem 
            parent="base.menu_sales" 
            id="menu_campaign_root" 
            name="Campaign"
            sequence="80"
            />
        <menuitem 
            parent="menu_campaign_root" 
            id="menu_campaign_campaign" 
            action="action_campaign_campaign"/>            
        
    </data>
</openerp>

